<form *ngIf="form" [formGroup]="form" class="p-fluid">

  <!-- <pre class="mb-4 p-3 bg-gray-100 border-round text-sm">
{{ form.value | json }}
  </pre> -->

  <div *ngFor="let field of fields" class="mb-4">

    <!-- LABEL -->
    <label class="font-medium mb-2 block">
      {{ field.name }}
    </label>

    <!-- TEXT -->
    <input
      *ngIf="field.type === 'Text'"
      pInputText
      [formControlName]="field.var_answer"
      class="w-full"
    />

    <!-- SELECT -->
    <p-select
      *ngIf="field.type === 'Select'"
      [options]="field.items"
      [formControlName]="field.var_answer"
      placeholder="Seleccione"
      class="w-full">
    </p-select>

    <!-- RADIO -->
    <div *ngIf="field.type === 'Radio'" class="flex flex-column gap-2">
      <div *ngFor="let item of field.items" class="flex align-items-center gap-2">
        <p-radioButton
          [inputId]="field.var_answer + item"
          [value]="item"
          [formControlName]="field.var_answer">
        </p-radioButton>
        <label [for]="field.var_answer + item">
          {{ item }}
        </label>
      </div>
    </div>

    <!-- ERROR -->
    <small
      class="p-error"
      *ngIf="form.get(field.var_answer)?.invalid && form.get(field.var_answer)?.touched">
      Campo obligatorio
    </small>

  </div>

</form>
